{#<!DOCTYPE html>#}
{#<html lang="ko">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{#    <title>{% block title %}스마트팜 시스템{% endblock %}</title>#}
{#    {% load static %}#}
{#    <link rel="stylesheet" href="{% static 'css/style.css' %}">#}
{#    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">#}
{#    <link rel="stylesheet" href="{% static 'css/remover.css' %}">#}
{#    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">#}
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>#}
{#    <style>#}
{#        /* 물방울 효과 스타일 */#}
{#        .water-drop-container {#}
{#            position: fixed;#}
{#            top: 0;#}
{#            left: 0;#}
{#            width: 100%;#}
{#            height: 100%;#}
{#            pointer-events: none;#}
{#            z-index: 9999;#}
{#            display: none;#}
{#        }#}
{##}
{#        @keyframes dropFall {#}
{#            0% {#}
{#                transform: translateY(-20px) scale(1);#}
{#                opacity: 0.8;#}
{#            }#}
{#            100% {#}
{#                transform: translateY(100vh) scale(0.5);#}
{#                opacity: 0;#}
{#            }#}
{#        }#}
{##}
{#        .water-drop {#}
{#            position: absolute;#}
{#            fill: #4da6ff;#}
{#            animation: dropFall 2s infinite linear;#}
{#        }#}
{##}
{#        .water-drop:nth-child(1) { left: 10%; animation-delay: 0s; }#}
{#        .water-drop:nth-child(2) { left: 25%; animation-delay: 0.3s; }#}
{#        .water-drop:nth-child(3) { left: 40%; animation-delay: 0.6s; }#}
{#        .water-drop:nth-child(4) { left: 55%; animation-delay: 0.9s; }#}
{#        .water-drop:nth-child(5) { left: 70%; animation-delay: 1.2s; }#}
{#        .water-drop:nth-child(6) { left: 85%; animation-delay: 1.5s; }#}
{##}
{#        /* 건조 효과 스타일 */#}
{#        .dry-effect-container {#}
{#            position: fixed;#}
{#            top: 0;#}
{#            left: 0;#}
{#            width: 100%;#}
{#            height: 100%;#}
{#            pointer-events: none;#}
{#            z-index: 9999;#}
{#            display: none;#}
{#            background: rgba(244, 164, 96, 0.05);#}
{#        }#}
{##}
{#        .dust-particle {#}
{#            position: absolute;#}
{#            width: 3px;#}
{#            height: 3px;#}
{#            background: #d2691e;#}
{#            border-radius: 50%;#}
{#            opacity: 0;#}
{#        }#}
{##}
{#        @keyframes dustFloat {#}
{#            0% {#}
{#                transform: translate(0, 0) rotate(0deg);#}
{#                opacity: 0;#}
{#            }#}
{#            50% {#}
{#                opacity: 0.5;#}
{#            }#}
{#            100% {#}
{#                transform: translate(100px, -100px) rotate(360deg);#}
{#                opacity: 0;#}
{#            }#}
{#        }#}
{##}
{#        .dust-particle:nth-child(1) { left: 5%; top: 80%; animation: dustFloat 3s infinite linear; }#}
{#        .dust-particle:nth-child(2) { left: 15%; top: 70%; animation: dustFloat 4s infinite linear 0.2s; }#}
{#        .dust-particle:nth-child(3) { left: 25%; top: 90%; animation: dustFloat 3.5s infinite linear 0.4s; }#}
{#        .dust-particle:nth-child(4) { left: 35%; top: 85%; animation: dustFloat 4.5s infinite linear 0.6s; }#}
{#        .dust-particle:nth-child(5) { left: 45%; top: 75%; animation: dustFloat 3s infinite linear 0.8s; }#}
{#        .dust-particle:nth-child(6) { left: 55%; top: 95%; animation: dustFloat 4s infinite linear 1s; }#}
{#        .dust-particle:nth-child(7) { left: 65%; top: 80%; animation: dustFloat 3.5s infinite linear 1.2s; }#}
{#        .dust-particle:nth-child(8) { left: 75%; top: 70%; animation: dustFloat 4.5s infinite linear 1.4s; }#}
{#        .dust-particle:nth-child(9) { left: 85%; top: 85%; animation: dustFloat 3s infinite linear 1.6s; }#}
{#        .dust-particle:nth-child(10) { left: 95%; top: 90%; animation: dustFloat 4s infinite linear 1.8s; }#}
{#        .dust-particle:nth-child(11) { left: 10%; top: 95%; animation: dustFloat 3.5s infinite linear 2s; }#}
{#        .dust-particle:nth-child(12) { left: 20%; top: 85%; animation: dustFloat 4s infinite linear 2.2s; }#}
{#        .dust-particle:nth-child(13) { left: 30%; top: 75%; animation: dustFloat 3s infinite linear 2.4s; }#}
{#        .dust-particle:nth-child(14) { left: 40%; top: 90%; animation: dustFloat 4.5s infinite linear 2.6s; }#}
{#        .dust-particle:nth-child(15) { left: 50%; top: 80%; animation: dustFloat 3.5s infinite linear 2.8s; }#}
{##}
{#        /* 기존 스타일 */#}
{#        .main-header {#}
{#            background-color: #f8f9fa;#}
{#            box-shadow: 0 2px 4px rgba(0,0,0,0.1);#}
{#            padding: 1rem 0;#}
{#        }#}
{##}
{#        .header-container {#}
{#            max-width: 1200px;#}
{#            margin: 0 auto;#}
{#            padding: 0 1rem;#}
{#        }#}
{##}
{#        .main-nav ul {#}
{#            list-style: none;#}
{#            margin: 0;#}
{#            padding: 0;#}
{#            display: flex;#}
{#            align-items: center;#}
{#            gap: 2rem;#}
{#        }#}
{##}
{#        .main-nav a {#}
{#            text-decoration: none;#}
{#            color: #333;#}
{#            font-weight: 500;#}
{#            transition: color 0.3s ease;#}
{#        }#}
{##}
{#        .main-nav a:hover {#}
{#            color: #007bff;#}
{#        }#}
{##}
{#        .content-wrapper {#}
{#            min-height: calc(100vh - 160px);#}
{#            padding: 2rem 0;#}
{#        }#}
{##}
{#        .main-footer {#}
{#            background-color: #343a40;#}
{#            color: #fff;#}
{#            padding: 1rem 0;#}
{#            text-align: center;#}
{#        }#}
{#    </style>#}
{#</head>#}
{#<body>#}
{#    <!-- 물방울 애니메이션 컨테이너 -->#}
{#    <div class="water-drop-container" id="waterDrops">#}
{#        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">#}
{#            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>#}
{#        </svg>#}
{#        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">#}
{#            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>#}
{#        </svg>#}
{#        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">#}
{#            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>#}
{#        </svg>#}
{#        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">#}
{#            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>#}
{#        </svg>#}
{#        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">#}
{#            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>#}
{#        </svg>#}
{#        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">#}
{#            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>#}
{#        </svg>#}
{#    </div>#}
{##}
{#    <!-- 건조 효과 컨테이너 -->#}
{#    <div class="dry-effect-container" id="dryEffect">#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#        <div class="dust-particle"></div>#}
{#    </div>#}
{##}
{#    <header class="main-header">#}
{#        <div class="header-container">#}
{#            <nav class="main-nav">#}
{#                <ul>#}
{#                    <li><strong><동화와 현규의 스마트팜></strong></li>#}
{#                    <li><a href="{% url 'blog:home' %}"><i class="fas fa-home"></i> 홈</a></li>#}
{#                    <li><a href="{% url 'blog:sensor_data' %}"><i class="fas fa-chart-line"></i> 센서 데이터</a></li>#}
{#                    <li><a href="{% url 'blog:vpd_settings' %}"><i class="fas fa-cog"></i> VPD 설정</a></li>#}
{#                </ul>#}
{#            </nav>#}
{#        </div>#}
{#    </header>#}
{##}
{#    <main class="content-wrapper">#}
{#        <div class="container">#}
{#            {% block content %}#}
{#            {% endblock %}#}
{#        </div>#}
{#    </main>#}
{##}
{#    <footer class="main-footer">#}
{#        <div class="container">#}
{#            <p>&copy; 2024 softeng. All rights reserved.</p>#}
{#        </div>#}
{#    </footer>#}
{##}
{#    <script>#}
{#        function checkVpdStatus() {#}
{#            fetch('{% url "blog:check_vpd_status" %}')#}
{#                .then(response => response.json())#}
{#                .then(data => {#}
{#                    const waterDrops = document.getElementById('waterDrops');#}
{#                    const dryEffect = document.getElementById('dryEffect');#}
{##}
{#                    if (data.vpd < data.min_vpd) {#}
{#                        waterDrops.style.display = 'block';#}
{#                        dryEffect.style.display = 'none';#}
{#                    } else if (data.vpd > data.max_vpd) {#}
{#                        waterDrops.style.display = 'none';#}
{#                        dryEffect.style.display = 'block';#}
{#                    } else {#}
{#                        waterDrops.style.display = 'none';#}
{#                        dryEffect.style.display = 'none';#}
{#                    }#}
{#                });#}
{#        }#}
{##}
{#        // 페이지 로드 시 상태 체크 시작#}
{#        checkVpdStatus();#}
{#        setInterval(checkVpdStatus, 2000);#}
{#    </script>#}
{##}
{#    {% block extra_js %}{% endblock %}#}
{#    <script src="{% static 'js/main.js' %}"></script>#}
{#</body>#}
{#</html>#}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}스마트팜 시스템{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
    <link rel="stylesheet" href="{% static 'css/remover.css' %}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        /* 물방울 효과 스타일 */
        .water-drop-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            display: none;
        }

        @keyframes dropFall {
            0% {
                transform: translateY(-20px) scale(1);
                opacity: 0.8;
            }
            100% {
                transform: translateY(100vh) scale(0.5);
                opacity: 0;
            }
        }

        .water-drop {
            position: absolute;
            fill: #4da6ff;
            animation: dropFall 2s infinite linear;
        }

        .water-drop:nth-child(1) { left: 10%; animation-delay: 0s; }
        .water-drop:nth-child(2) { left: 25%; animation-delay: 0.3s; }
        .water-drop:nth-child(3) { left: 40%; animation-delay: 0.6s; }
        .water-drop:nth-child(4) { left: 55%; animation-delay: 0.9s; }
        .water-drop:nth-child(5) { left: 70%; animation-delay: 1.2s; }
        .water-drop:nth-child(6) { left: 85%; animation-delay: 1.5s; }

        /* 건조 효과 스타일 - 개선된 버전 */
        .dry-effect-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            display: none;
            background: rgba(255, 87, 34, 0.1);
        }

        .dust-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: linear-gradient(45deg, #ff5722, #ff9800);
            border-radius: 50%;
            box-shadow: 0 0 10px #ff5722;
            opacity: 0;
        }

        @keyframes dustFloat {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 0;
            }
            25% {
                opacity: 0.8;
                transform: translate(50px, -50px) rotate(90deg) scale(1.2);
            }
            50% {
                opacity: 1;
                transform: translate(100px, -75px) rotate(180deg) scale(1);
            }
            75% {
                opacity: 0.8;
                transform: translate(150px, -50px) rotate(270deg) scale(0.8);
            }
            100% {
                transform: translate(200px, -100px) rotate(360deg) scale(0.5);
                opacity: 0;
            }
        }

        .dust-particle:nth-child(1) { left: 5%; top: 80%; animation: dustFloat 4s infinite ease-in-out; }
        .dust-particle:nth-child(2) { left: 15%; top: 70%; animation: dustFloat 5s infinite ease-in-out 0.2s; }
        .dust-particle:nth-child(3) { left: 25%; top: 90%; animation: dustFloat 4.5s infinite ease-in-out 0.4s; }
        .dust-particle:nth-child(4) { left: 35%; top: 85%; animation: dustFloat 5.5s infinite ease-in-out 0.6s; }
        .dust-particle:nth-child(5) { left: 45%; top: 75%; animation: dustFloat 4s infinite ease-in-out 0.8s; }
        .dust-particle:nth-child(6) { left: 55%; top: 95%; animation: dustFloat 5s infinite ease-in-out 1s; }
        .dust-particle:nth-child(7) { left: 65%; top: 80%; animation: dustFloat 4.5s infinite ease-in-out 1.2s; }
        .dust-particle:nth-child(8) { left: 75%; top: 70%; animation: dustFloat 5.5s infinite ease-in-out 1.4s; }
        .dust-particle:nth-child(9) { left: 85%; top: 85%; animation: dustFloat 4s infinite ease-in-out 1.6s; }
        .dust-particle:nth-child(10) { left: 95%; top: 90%; animation: dustFloat 5s infinite ease-in-out 1.8s; }
        .dust-particle:nth-child(11) { left: 10%; top: 95%; animation: dustFloat 4.5s infinite ease-in-out 2s; }
        .dust-particle:nth-child(12) { left: 20%; top: 85%; animation: dustFloat 5s infinite ease-in-out 2.2s; }
        .dust-particle:nth-child(13) { left: 30%; top: 75%; animation: dustFloat 4s infinite ease-in-out 2.4s; }
        .dust-particle:nth-child(14) { left: 40%; top: 90%; animation: dustFloat 5.5s infinite ease-in-out 2.6s; }
        .dust-particle:nth-child(15) { left: 50%; top: 80%; animation: dustFloat 4.5s infinite ease-in-out 2.8s; }

        /* 기존 스타일 */
        .main-header {
            background-color: #f8f9fa;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 1rem 0;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .main-nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .main-nav a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .main-nav a:hover {
            color: #007bff;
        }

        .content-wrapper {
            min-height: calc(100vh - 160px);
            padding: 2rem 0;
        }

        .main-footer {
            background-color: #343a40;
            color: #fff;
            padding: 1rem 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- 물방울 애니메이션 컨테이너 -->
    <div class="water-drop-container" id="waterDrops">
        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">
            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>
        </svg>
        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">
            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>
        </svg>
        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">
            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>
        </svg>
        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">
            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>
        </svg>
        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">
            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>
        </svg>
        <svg class="water-drop" width="20" height="20" viewBox="0 0 20 20">
            <path d="M10 0 C 10 0, 20 10, 20 15 A 10 10 0 1 1 0 15 C 0 10, 10 0, 10 0"/>
        </svg>
    </div>

    <!-- 건조 효과 컨테이너 -->
    <div class="dry-effect-container" id="dryEffect">
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
    </div>

    <header class="main-header">
        <div class="header-container">
            <nav class="main-nav">
                <ul>
                    <li><strong><동화와 현규의 스마트팜></strong></li>
                    <li><a href="{% url 'blog:home' %}"><i class="fas fa-home"></i> 홈</a></li>
                    <li><a href="{% url 'blog:sensor_data' %}"><i class="fas fa-chart-line"></i> 센서 데이터</a></li>
                    <li><a href="{% url 'blog:vpd_settings' %}"><i class="fas fa-cog"></i> VPD 설정</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="content-wrapper">
        <div class="container">
            {% block content %}
            {% endblock %}
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2024 softeng. All rights reserved.</p>
        </div>
    </footer>

    <script>
        function checkVpdStatus() {
            fetch('{% url "blog:check_vpd_status" %}')
                .then(response => response.json())
                .then(data => {
                    const waterDrops = document.getElementById('waterDrops');
                    const dryEffect = document.getElementById('dryEffect');

                    if (data.vpd < data.min_vpd) {
                        waterDrops.style.display = 'block';
                        dryEffect.style.display = 'none';
                    } else if (data.vpd > data.max_vpd) {
                        waterDrops.style.display = 'none';
                        dryEffect.style.display = 'block';
                    } else {
                        waterDrops.style.display = 'none';
                        dryEffect.style.display = 'none';
                    }
                });
        }

        // 페이지 로드 시 상태 체크 시작
        checkVpdStatus();
        setInterval(checkVpdStatus, 2000);
    </script>

    {% block extra_js %}{% endblock %}
    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>